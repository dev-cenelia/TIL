# Closure 정리

## 1. 클로저(Closure)란?
내부 함수가 선언될 때의 바깥 스코프(변수)를 기억하고
외부 함수가 종료된 뒤에도 계속 그 변수에 접근할 수 있는 기능
즉, 함수가 끝나도 외부 변수 값을 유지하는 구조


## 2. 렉시컬 환경(Lexical Environment)이란?
- 클로저가 가능한 이유를 설명하기 위한 핵심 개념
- 함수가 실행될 때 만들어지는 “그 함수만의 변수 저장 공간”
- 이 저장 공간 안에는: 함수 내부 변수(지역변수), 매개변수, 내부 함수, 바깥 스코프를 가리키는 참조(outer reference)

함수는 자기 렉시컬 환경 + 바깥 환경을 함께 기억함

이 구조가 스코프 체인을 형성하고,
외부 함수가 끝난 뒤에도 내부 함수가 변수를 기억하는 이유 → 클로저

## 3. 클로저 예제
function outer() {
  let x = 10;
  function inner() {
    console.log(x);
  }
  return inner;
}

const fn = outer();
fn(); // 10


outer()는 이미 종료되었지만
inner()는 outer의 렉시컬 환경을 기억하고 있어
x를 계속 참조할 수 있다 → 클로저


## 4. 클로저가 사용되는 실제 상황

setTimeout 콜백
→ 실행 시점이 늦어도 외부 변수를 기억

이벤트 핸들러(addEventListener)
→ 클릭될 때 외부 상태 기억

React useState / useEffect 내부 동작
→ state를 기억하고 업데이트하는 구조가 클로저 기반

private 변수 구현
→ 함수 밖에서 접근 불가능한 값 유지 가능

## 5. 핵심 요약

- 클로저 = 함수가 외부 스코프를 기억해서 계속 접근할 수 있는 구조
- 배경 원리: 렉시컬 환경 + 스코프 체인
